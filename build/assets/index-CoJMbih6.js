import{a5 as Be,a6 as re,a7 as Pe,a8 as je,a9 as Se,a as Q,a0 as D,c as G,g as K,N as H,j as I,_ as R,m as S,d as p,U as Te,Q as Ne,b as C,W as O,aa as Oe,ab as Re,ac as qe,ad as Ce,ae as Ie,O as De,u as _e,af as Ae,ag as te,ah as Fe,z as Ee,M as Me,S as ae,E as Ve,ai as He,a3 as L,e as _,x as ce,V as Ge,aj as Le,ak as Ue,al as $e,am as We,D as Xe,i as Qe,B as Ke,o as g,v as Y,p as U,a4 as Ye,an as Je,f as $,h as J,k as Ze,l as eo,n as Z,q as oo,F as ee,ao as ro,ap as to,w as F}from"./index-BTakXTv0.js";import{A as oe}from"./Avatar-uTygXMyu.js";import{u as ao,a as no,L as ne,b as so}from"./useTriggerSlot-DAQi-zmP.js";import{u as io,r as lo,a as co,b as uo,T as de}from"./useTagGroupContextValues-DR1hi5Ug.js";import{u as fo}from"./useInputTriggerSlot-CO7cQYlP.js";import"./AvatarContext-Bwfnj-ya.js";var po=class extends Be{constructor(e,o){super(e,o)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:re()})}getOptimisticResult(e){return e.behavior=re(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,o){var i,k;const{state:r}=e,n=super.createResult(e,o),{isFetching:t,isRefetching:d,isError:c,isRefetchError:u}=n,l=(k=(i=r.fetchMeta)==null?void 0:i.fetchMore)==null?void 0:k.direction,z=c&&l==="forward",y=t&&l==="forward",x=c&&l==="backward",s=t&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:je(o,r.data),hasPreviousPage:Pe(o,r.data),isFetchNextPageError:z,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:s,isRefetchError:u&&!z&&!x,isRefetching:d&&!y&&!s}}};function go(e,o){return Se(e,po,o)}const mo=(e,o)=>{const r=Q("group-label"),{label:n}=e;return{components:{root:"div",label:"span"},root:G(K("div",{ref:o,role:"group","aria-labelledby":n?r:void 0,...e}),{elementType:"div"}),label:D(n,{defaultProps:{id:r,role:"presentation"},elementType:"span"})}},vo=e=>H(e.root,{children:[e.label&&I(e.label,{children:e.label.children}),e.root.children]}),se={root:"fui-OptionGroup",label:"fui-OptionGroup__label"},ho=R({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Belr9w4:"fiut8dr",B8lkq7l:"f1xxzjds",eii1in:0,H93o2g:0,Gwp8xu:0,Bd39igo:"f16cmn8k",om0q45:"f5642y",Hl9o3s:"ffdf81h",sl1c2c:0,z4hxbw:0,B0i58d9:0,Bi9x0x4:0,Bgurq3m:"f1bsn9kn"},label:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",sj55zd:"f11d4kpn",mc9l5x:"ftgm304",Be2twd7:"fy9rknc",Bhrd7zp:"fl43uef",Bg96gwp:"fwrc4pm",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mpq0zz"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".fiut8dr{row-gap:var(--spacingHorizontalXXS);}",'.f1xxzjds:not(:last-child)::after{content:"";}',[".f16cmn8k:not(:last-child)::after{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStroke2);}",{p:-1}],".f5642y:not(:last-child)::after{display:block;}",".ffdf81h:not(:last-child)::after{padding-bottom:var(--spacingHorizontalXS);}",[".f1bsn9kn:not(:last-child)::after{margin:0 calc(var(--spacingHorizontalXS) * -1) var(--spacingVerticalXS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f11d4kpn{color:var(--colorNeutralForeground3);}",".ftgm304{display:block;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",[".f1mpq0zz{padding:var(--spacingHorizontalS) var(--spacingHorizontalSNudge);}",{p:-1}]]}),bo=e=>{"use no memo";const o=ho();return e.root.className=S(se.root,o.root,e.root.className),e.label&&(e.label.className=S(se.label,o.label,e.label.className)),e},yo=["above","after","after-top","before","before-top"],xo=e=>{const o=Q("picker-listbox"),r=p.useRef(null),n=p.useRef(null),t=p.useRef(null),{positioning:d,size:c="medium",inline:u=!1,noPopover:l=!1}=e,{targetRef:z,containerRef:y}=Te({position:"below",align:"start",offset:{crossAxis:0,mainAxis:2},fallbackPositions:yo,matchTargetSize:"width",...Ne(d)}),{controller:x,activeParentRef:s,listboxRef:m}=ao({matchOption:b=>b.classList.contains(Oe.root)}),i=no({...e,onOptionSelect:C((b,B)=>{var h;return(h=e.onOptionSelect)===null||h===void 0?void 0:h.call(e,b,{selectedOptions:B.selectedOptions,value:B.optionValue,type:b.type,event:b})}),onOpenChange:C((b,B)=>{var h;return(h=e.onOpenChange)===null||h===void 0?void 0:h.call(e,b,{...B,type:b.type,event:b})}),activeDescendantController:x,editable:!0,multiselect:!0,size:"medium"}),{trigger:k,popover:P}=ko(e.children,l);return{activeDescendantController:x,components:{},trigger:k,popover:i.open||i.hasFocus?P:void 0,popoverId:o,noPopover:l,disabled:i.disabled,triggerRef:O(r,s),popoverRef:O(m,y),secondaryActionRef:n,tagPickerGroupRef:t,targetRef:z,size:c,inline:u,open:i.open,mountNode:i.mountNode,onOptionClick:C(b=>{i.onOptionClick(b),i.setOpen(b,!1)}),appearance:i.appearance,clearSelection:i.clearSelection,getOptionById:i.getOptionById,getOptionsMatchingValue:i.getOptionsMatchingValue,registerOption:i.registerOption,selectedOptions:i.selectedOptions,selectOption:i.selectOption,setHasFocus:i.setHasFocus,setOpen:i.setOpen,setValue:i.setValue,value:i.value}},ko=(e,o)=>{const r=p.Children.toArray(e);if(o)return{trigger:r[0]};let n,t;return r.length===2?(n=r[0],t=r[1]):r.length===1&&(t=r[0]),{trigger:n,popover:t}},wo={triggerRef:p.createRef(),popoverRef:p.createRef(),targetRef:p.createRef(),tagPickerGroupRef:p.createRef(),secondaryActionRef:p.createRef(),open:!1,clearSelection:()=>null,getOptionById:()=>{},selectedOptions:[],selectOption:()=>null,setHasFocus:()=>null,setOpen:()=>null,setValue:()=>null,value:void 0,popoverId:"",size:"medium",appearance:"outline",disabled:!1},ue=Re(void 0),zo=ue.Provider,f=e=>qe(ue,(o=wo)=>e(o)),Bo=(e,o)=>p.createElement(zo,{value:o.picker},p.createElement(Ce,{value:o.activeDescendant},p.createElement(Ie,{value:o.listbox},e.trigger,e.inline?e.popover:p.createElement(De,{mountNode:e.mountNode},e.popover))));function Po(e){const{onOptionClick:o,registerOption:r,selectedOptions:n,selectOption:t,value:d,triggerRef:c,secondaryActionRef:u,tagPickerGroupRef:l,targetRef:z,size:y,setValue:x,setOpen:s,setHasFocus:m,popoverRef:i,appearance:k,clearSelection:P,getOptionById:b,getOptionsMatchingValue:B,open:h,popoverId:j,disabled:w,noPopover:N}=e;return{activeDescendant:p.useMemo(()=>({controller:e.activeDescendantController}),[e.activeDescendantController]),listbox:{onOptionClick:o,registerOption:r,getOptionById:b,getOptionsMatchingValue:B,selectedOptions:n,selectOption:t,focusVisible:!1,setActiveOption:jo},picker:{value:d,triggerRef:c,targetRef:z,secondaryActionRef:u,tagPickerGroupRef:l,size:y,setValue:x,setOpen:s,setHasFocus:m,selectOption:t,popoverRef:i,selectedOptions:n,appearance:k,clearSelection:P,getOptionById:b,open:h,popoverId:j,disabled:w,noPopover:N}}}const jo=()=>{},fe=p.memo(e=>{const o=xo(e),r=Po(o);return Bo(o,r)});fe.displayName="TagPicker";const W={width:"--fluent-TagPickerInput__width"},So=(e,o)=>{const r=_e(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0}),{controller:n}=Ae(),t=f(a=>a.size),d=f(a=>a.disabled),c=f(a=>a.tagPickerGroupRef),u=f(a=>a.triggerRef),l=f(a=>a.selectedOptions),z=f(a=>a.setValue),y=f(a=>a.setOpen),x=f(a=>a.setHasFocus),s=f(a=>a.clearSelection),m=f(a=>a.open),i=f(a=>a.noPopover?void 0:a.popoverId),k=f(a=>a.selectOption),P=f(a=>a.getOptionById),b=f(a=>a.value);te(()=>{u.current&&ie(u.current)},[l,u]),te(()=>{if(u.current){const a=u.current,q=()=>ie(a);return a.addEventListener("input",q),()=>{a.removeEventListener("input",q)}}},[u]);const{value:B=b,disabled:h=d}=r,{findLastFocusable:j}=Fe(),w=p.useRef(!1),N=fo({type:"text",value:B??"","aria-controls":m?i:void 0,disabled:h,...K("input",r),onKeyDown:C(a=>{var q;if((q=r.onKeyDown)===null||q===void 0||q.call(r,a),(a.key===Ee||a.key===Me)&&a.currentTarget.selectionStart===0&&a.currentTarget.selectionEnd===0&&c.current){var A;(A=j(c.current))===null||A===void 0||A.focus()}else a.key===ae?m&&!w.current&&y(a,!1):a.key===Ve&&(m?He.unstable_batchedUpdates(()=>{z(void 0),y(a,!1)}):y(a,!0));w.current=a.key.length===1&&a.code!==ae&&!a.altKey&&!a.ctrlKey&&!a.metaKey})},O(u,o),{activeDescendantController:n,freeform:!1,state:{clearSelection:s,getOptionById:P,open:m,selectedOptions:l,selectOption:k,setHasFocus:x,setOpen:y,setValue:z,multiselect:!0,value:r.value}});return{components:{root:"input"},root:N,disabled:h,size:t}},ie=e=>{e.style.removeProperty(W.width),e.scrollWidth>e.offsetWidth+1?e.style.setProperty(W.width,"100%"):e.style.removeProperty(W.width)},To=e=>I(e.root,{}),No={root:"fui-TagPickerInput"},Oo=L("r1hdk6fw",null,[".r1hdk6fw{background-color:var(--colorTransparentBackground);color:var(--colorNeutralForeground1);font-family:var(--fontFamilyBase);box-sizing:border-box;border:none;min-width:24px;max-width:100%;width:var(--fluent-TagPickerInput__width, 0);flex-grow:1;}",".r1hdk6fw:focus{outline-style:none;}",".r1hdk6fw::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::after{visibility:hidden;white-space:pre-wrap;}"]),Ro=R({medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fa2pw7h"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"ft37c3"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f3abo53"},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fa2pw7h{padding:var(--spacingVerticalSNudge) 0 var(--spacingVerticalSNudge) 0;}",{p:-1}],[".ft37c3{padding:var(--spacingVerticalMNudge) 0 var(--spacingVerticalMNudge) 0;}",{p:-1}],[".f3abo53{padding:var(--spacingVerticalM) 0 var(--spacingVerticalM) 0;}",{p:-1}],".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),qo=e=>{"use no memo";const o=Oo(),r=Ro();return e.root.className=S(No.root,o,r[e.size],e.disabled&&r.disabled,e.root.className),e},pe=p.forwardRef((e,o)=>{const r=So(e,o);return qo(r),_("useTagPickerInputStyles_unstable")(r),To(r)});pe.displayName="TagPickerInput";const Co=(e,o)=>{const r=f(c=>c.triggerRef),n=f(c=>c.popoverRef),t=f(c=>c.popoverId);return{open:f(c=>c.open),components:{root:ne},root:G({...so(e,O(n,o),{state:{multiselect:!0},triggerRef:r,defaultProps:{id:t}}),role:"listbox"},{elementType:ne})}},Io=e=>I(e.root,{}),Do={root:"fui-TagPickerList"},_o=R({root:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},collapsed:{mc9l5x:"fjseox"}},{d:[".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".f1ewtqcl{box-sizing:border-box;}",".fjseox{display:none;}"]}),Ao=e=>{"use no memo";const o=_o();return e.root.className=S(Do.root,o.root,!e.open&&o.collapsed,e.root.className),e},ge=p.forwardRef((e,o)=>{const r=Co(e,o);return Ao(r),_("useTagPickerListStyles_unstable")(r),Io(r)});ge.displayName="TagPickerList";const Fo=e=>{const{targetDocument:o}=ce(),[r]=p.useState(()=>{var t;const d=o==null||(t=o.defaultView)===null||t===void 0?void 0:t.ResizeObserver;if(d)return new d(e)});return p.useCallback(t=>{t?r==null||r.observe(t):r==null||r.disconnect()},[r])},V={root:"fui-TagPickerControl",expandIcon:"fui-TagPickerControl__expandIcon",secondaryAction:"fui-TagPickerControl__secondaryAction",aside:"fui-TagPickerControl__aside"},Eo="--fui-TagPickerControl-aside-width",Mo=R({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",z189sj:["f1d8q41i","f8lqu5g"],uwmqm3:["f1uw59to","fw5db7e"],Bt984gj:"f122n59",i8kkvl:"f14mj54c",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",Eh141a:"fni485r",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"f145g4dw",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51"},listbox:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},listboxCollapsed:{mc9l5x:"fjseox"},medium:{sshi5w:"f1nxs5xn"},large:{sshi5w:"f1w5jphr"},"extra-large":{sshi5w:"f5pgtk9"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"f1z0osm6",B50zh58:["f4ruux4","f1assf6x"],Bvq3b66:"f1b473iu",Brahy3i:["f381qr8","ft4skwv"],zoxjo1:"f1qzcrsd",an54nd:["ft4skwv","f381qr8"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f9ez7ne",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},"filled-lighter":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},"filled-darker":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]}},{d:[[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1d8q41i{padding-right:calc(var(--spacingHorizontalM) + var(--fui-TagPickerControl-aside-width, 0px));}",".f8lqu5g{padding-left:calc(var(--spacingHorizontalM) + var(--fui-TagPickerControl-aside-width, 0px));}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f122n59{align-items:center;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".fni485r{flex-wrap:wrap;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".f145g4dw::after{height:max(2px, var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".f1nxs5xn{min-height:32px;}",".f1w5jphr{min-height:40px;}",".f5pgtk9{min-height:44px;}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f9ez7ne{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1b473iu:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".f381qr8:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".ft4skwv:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1qzcrsd:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),Vo=R({root:{mc9l5x:"f22iagw",qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",j35jbq:["f8b87gs","fedtrts"],Bqenvij:"f1l02sjl",Bceei9c:"f113hnb5"},medium:{sshi5w:"f1nxs5xn"},large:{sshi5w:"f1w5jphr"},"extra-large":{sshi5w:"f5pgtk9"}},{d:[".f22iagw{display:flex;}",".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f8b87gs{right:var(--spacingHorizontalM);}",".fedtrts{left:var(--spacingHorizontalM);}",".f1l02sjl{height:100%;}",".f113hnb5{cursor:text;}",".f1nxs5xn{min-height:32px;}",".f1w5jphr{min-height:40px;}",".f5pgtk9{min-height:44px;}"]}),Ho=R({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",Bceei9c:"f1k6fduh",mc9l5x:"f22iagw",Brf1p80:"f4d9j23",Bt984gj:"f122n59",qb2dma:"fjgzulp",Be2twd7:"f1pp30po",Bo70h7d:"fvc9v3g"},medium:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"],sshi5w:"f1nxs5xn"},large:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"],sshi5w:"f1w5jphr"},"extra-large":{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"],sshi5w:"f5pgtk9"},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".f1k6fduh{cursor:pointer;}",".f22iagw{display:flex;}",".f4d9j23{justify-content:center;}",".f122n59{align-items:center;}",".fjgzulp{align-self:flex-start;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".fvc9v3g svg{display:block;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".f1nxs5xn{min-height:32px;}",".fe5j1ua{font-size:20px;}",".f1w5jphr{min-height:40px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f5pgtk9{min-height:44px;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}"]}),Go=R({root:{mc9l5x:"f22iagw"}},{d:[".f22iagw{display:flex;}"]}),Lo=e=>{"use no memo";const o=Mo(),r=Ho(),n=Vo(),t=Go();return e.root.className=S(V.root,o.root,o[e.size],o[e.appearance],!e.disabled&&e.appearance==="outline"&&o.outlineInteractive,e.invalid&&e.appearance!=="underline"&&o.invalid,e.invalid&&e.appearance==="underline"&&o.invalidUnderline,e.disabled&&o.disabled,e.root.className),e.aside&&(e.aside.className=S(V.aside,n.root,n[e.size],e.aside.className)),e.expandIcon&&(e.expandIcon.className=S(V.expandIcon,r.icon,r[e.size],e.disabled&&r.disabled,e.expandIcon.className)),e.secondaryAction&&(e.secondaryAction.className=S(V.secondaryAction,t.root,e.secondaryAction.className)),e};function Uo(e){const{tagPickerId:o,state:r}=e,{targetDocument:n}=ce(),t=f(s=>s.triggerRef),d=p.useRef(null),c=!!r.expandIcon,{"aria-label":u,"aria-labelledby":l,id:z}=r.expandIcon||{},y=p.useCallback((s,m)=>{let i,k,P;if(c){const b=u||l,B="Open";b||(m?(i=B,P=z??`${o}-chevron`,k=`${P} ${m}`):s?i=`${B} ${s}`:i=B)}return{expandAriaLabel:i,expandAriaLabelledBy:k,expandId:P}},[u,l,z,c,o]),x=p.useCallback(()=>{var s,m;const i=(s=t.current)===null||s===void 0?void 0:s.getAttribute("aria-label"),k=(m=t.current)===null||m===void 0?void 0:m.getAttribute("aria-labelledby"),{expandAriaLabel:P,expandAriaLabelledBy:b,expandId:B}=y(i,k);if(b){var h;(h=d.current)===null||h===void 0||h.setAttribute("aria-labelledby",b)}if(P){var j;(j=d.current)===null||j===void 0||j.setAttribute("aria-label",P)}if(B){var w;(w=d.current)===null||w===void 0||w.setAttribute("id",B)}},[y,t]);return p.useEffect(()=>{const s=u||l;if(!(n!=null&&n.defaultView)||!t.current||!c||s)return;const m=n.defaultView;x();const i=new m.MutationObserver(x);return i.observe(t.current,{attributes:!0,attributeFilter:["aria-label","aria-labelledby"]}),()=>i.disconnect()},[y,x,u,l,c,o,t,n]),d}const $o=(e,o)=>{var r;const n=f(v=>v.targetRef),t=f(v=>v.triggerRef),d=f(v=>v.tagPickerGroupRef),c=f(v=>v.open),u=f(v=>v.popoverId),l=f(v=>v.setOpen),z=f(v=>v.secondaryActionRef),y=f(v=>v.size),x=f(v=>v.appearance),s=f(v=>v.disabled),m=((r=Ge())===null||r===void 0?void 0:r.validationState)==="error",i=f(v=>{var T;return(T=v.noPopover)!==null&&T!==void 0?T:!1}),k=Q("tagPicker-"),P=p.useRef(null),b=p.useRef(null),B=p.useRef(null),h=D(e.secondaryAction,{elementType:"span"}),j=O(z,h==null?void 0:h.ref);h&&(h.ref=j);const w=D(e.expandIcon,{renderByDefault:!i,defaultProps:{"aria-expanded":c,"aria-disabled":s?"true":void 0,children:p.createElement(Le,null),role:"button"},elementType:"span"}),N=O(w==null?void 0:w.ref,b);w&&(w.ref=N);const E=Fo(([v])=>{var T;(T=P.current)===null||T===void 0||T.style.setProperty(Eo,`${v.contentRect.width}px`)}),a=D(void 0,{elementType:"span",renderByDefault:!!(h||w),defaultProps:{ref:E}}),q=O(B,a==null?void 0:a.ref);a&&(a.ref=q);const A=C(v=>{if(!v.isDefaultPrevented()&&(Ue(b.current,v.target)||v.target===P.current||v.target===d.current||v.target===B.current)){var T;v.preventDefault(),l(v,!c),(T=t.current)===null||T===void 0||T.focus()}}),M={components:{root:"div",expandIcon:"span",secondaryAction:"span",aside:"span"},root:G(K("div",{ref:O(o,n,P),"aria-owns":c&&!i?u:void 0,...e,onMouseDown:A}),{elementType:"div"}),aside:a,expandIcon:w,secondaryAction:h,size:y,appearance:x,disabled:s,invalid:m},we=Uo({tagPickerId:k,state:M}),ze=O(w==null?void 0:w.ref,we);return M.expandIcon&&(M.expandIcon.ref=ze),M},Wo=e=>H(e.root,{children:[e.root.children,e.aside&&H(e.aside,{children:[e.secondaryAction&&I(e.secondaryAction,{}),e.expandIcon&&I(e.expandIcon,{})]})]}),me=p.forwardRef((e,o)=>{const r=$o(e,o);return Lo(r),_("useTagPickerControlStyles_unstable")(r),Wo(r)});me.displayName="TagPickerControl";const Xo=(e,o)=>{const r=$e(e,o);return{components:{...r.components,media:"div",secondaryContent:"span"},media:D(e.media,{elementType:"div"}),secondaryContent:D(e.secondaryContent,{elementType:"span"}),root:G({...r.root,role:"option","aria-checked":e["aria-checked"]},{elementType:"div"})}},Qo=e=>H(e.root,{children:[e.media&&I(e.media,{}),e.root.children,e.secondaryContent&&I(e.secondaryContent,{})]}),X={root:"fui-TagPickerOption",media:"fui-TagPickerOption__media",secondaryContent:"fui-TagPickerOption__secondaryContent"},Ko=L("r70qvj9",null,[".r70qvj9{display:flex;align-items:center;}"]),Yo=R({secondaryContent:{mc9l5x:"f13qh94s",Budl1dq:"fjxzuw"}},{d:[".f13qh94s{display:grid;}",".fjxzuw{grid-template-columns:auto 1fr;}"]}),Jo=L("r131qrbm",null,[".r131qrbm{grid-column-start:2;grid-row-start:2;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),Zo=L("rrip69g",null,[".rrip69g{grid-row-start:span 2;}"]),er=e=>{"use no memo";const o=Ko(),r=Yo(),n=Jo(),t=Zo();return e.root.className=S(X.root,o,e.secondaryContent&&r.secondaryContent,e.root.className),We({...e,active:!1,disabled:!1,focusVisible:!1,checkIcon:void 0,selected:!1}),e.media&&(e.media.className=S(X.media,t,e.media.className)),e.secondaryContent&&(e.secondaryContent.className=S(X.secondaryContent,n,e.secondaryContent.className)),e},ve=p.forwardRef((e,o)=>{const r=Xo(e,o);return er(r),_("useTagPickerOptionStyles_unstable")(r),Qo(r)});ve.displayName="TagPickerOption";function or(e){switch(e){case"medium":return"extra-small";case"large":return"small";case"extra-large":return"medium";default:return"extra-small"}}function rr(e){switch(e){case"extra-small":return"medium";case"small":return"large";case"medium":return"extra-large";default:return"medium"}}function tr(e){switch(e){case"filled-darker":return"outline";default:return"filled"}}const ar=(e,o)=>{const r=f(s=>s.selectedOptions.length>0),n=f(s=>s.selectedOptions.length===1),t=f(s=>s.triggerRef),d=f(s=>s.tagPickerGroupRef),c=f(s=>s.selectOption),u=f(s=>or(s.size)),l=f(s=>s.appearance),z=f(s=>s.disabled),y=Xe({circular:!1,axis:"both",memorizeCurrent:!0});return{...io({role:"listbox",disabled:z,...e,...y,size:u,appearance:tr(l),dismissible:!0,onKeyDown:C(s=>{var m;if((m=e.onKeyDown)===null||m===void 0||m.call(e,s),Qe(s.target)&&s.key===Ke){var i;(i=t.current)===null||i===void 0||i.focus()}}),onDismiss:C((s,m)=>{if(c(s,{value:m.value,id:"ERROR_DO_NOT_USE",text:"ERROR_DO_NOT_USE"}),n&&!s.isDefaultPrevented()){var i;(i=t.current)===null||i===void 0||i.focus()}})},O(o,d)),hasSelectedOptions:r}};function nr(e,o){return e.hasSelectedOptions?lo(e,o):null}const sr={root:"fui-TagPickerGroup"},ir=R({root:{Eh141a:"fni485r",B7ck84d:"f1ewtqcl",Bceei9c:"f113hnb5"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fa2pw7h",i8kkvl:0,Belr9w4:0,rmohyg:"fkln5zr"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fc0zr7g",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},"extra-large":{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fc0zr7g",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"}},{d:[".fni485r{flex-wrap:wrap;}",".f1ewtqcl{box-sizing:border-box;}",".f113hnb5{cursor:text;}",[".fa2pw7h{padding:var(--spacingVerticalSNudge) 0 var(--spacingVerticalSNudge) 0;}",{p:-1}],[".fkln5zr{gap:var(--spacingHorizontalXS);}",{p:-1}],[".fc0zr7g{padding:var(--spacingVerticalS) 0 var(--spacingVerticalS) 0;}",{p:-1}],[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],[".fc0zr7g{padding:var(--spacingVerticalS) 0 var(--spacingVerticalS) 0;}",{p:-1}],[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}]]}),lr=e=>{"use no memo";co(e);const o=ir();return e.root.className=S(sr.root,o[rr(e.size)],o.root,e.root.className),e},he=p.forwardRef((e,o)=>{const r=ar(e,o);return lr(r),_("useTagPickerGroupStyles_unstable")(r),nr(r,uo(r))});he.displayName="TagPickerGroup";const cr=mo,dr=vo,le={root:"fui-TagPickerOptionGroup",label:"fui-TagPickerOptionGroup__label"},ur=e=>{"use no memo";return bo(e),e.root.className=S(le.root,e.root.className),e.label&&(e.label.className=S(le.label,e.label.className)),e},be=p.forwardRef((e,o)=>{const r=cr(e,o);return ur(r),_("useTagPickerOptionGroupStyles_unstable")(r),dr(r)});be.displayName="TagPickerOptionGroup";const ye=({row:e,rows:o})=>{const{CommonName:r,JobTitle:n,Directory:t,UserName:d}=e,c=o.find(u=>u.UserName===d);return g.jsx(ve,{secondaryContent:n,media:g.jsx(oe,{shape:"square","aria-hidden":!0,name:r,color:Y.get(t),active:c?"active":"unset"}),value:c?`selected-${d}`:d,children:r})};function fr(e,o){return o===""?e:e.filter(r=>{const{CommonName:n}=r;return n.toLowerCase().includes(o.toLowerCase())})}const pr=e=>{const{rows:o,localQuery:r=!1,queryOptions:n,query:t,TagPickerOptionComponent:d=ye,filterRows:c=fr}=e,{t:u}=U(),{data:l,isLoading:z,hasNextPage:y,fetchNextPage:x,isFetchingNextPage:s}=go(n(r?"":t)),m=(l==null?void 0:l.pages[0].Total)??0,i=(l==null?void 0:l.pages.flatMap(P=>P.Rows))??[],k=c(i,t);return g.jsx(ge,{style:{maxHeight:480},children:g.jsxs(be,{label:z?u("Loading..."):k.length?u("Showing {{count, number}} of {{total, number}}",{count:k.length,total:m}):u("We couldn't find any matches"),children:[k.map((P,b)=>g.jsx(d,{row:P,rows:o},`tagPickerOption-${b}`)),y?g.jsx("div",{children:g.jsx(Ye,{disabled:s,icon:s?g.jsx(Je,{size:"extra-tiny"}):void 0,onClick:()=>{x()},children:u(s?"Loading...":"Load more")})}):null]})})},xe=e=>{const{row:o,fieldProps:r,tagProps:n}=e,t=o;return g.jsx(de,{size:(r==null?void 0:r.size)==="large"?"medium":(r==null?void 0:r.size)==="small"?"extra-small":"small",media:g.jsx(oe,{"aria-hidden":!0,name:t.CommonName,color:Y.get(t.Directory)}),...n,children:t.CommonName})},gr=({rows:e})=>g.jsx(he,{"aria-label":"Selected Employees",children:e.map((o,r)=>{const{CommonName:n,UserName:t,Directory:d}=o;return g.jsx(de,{media:g.jsx(oe,{"aria-hidden":!0,name:n,color:Y.get(d)}),value:t,children:n},`tag-${r}`)})}),ke=oo({root:{minHeight:"32px",display:"inline-flex",alignItems:"center",gap:F.spacingHorizontalXS,padding:`0 ${F.spacingHorizontalM}`},small:{minHeight:"24px",padding:`0 ${F.spacingHorizontalS}`},large:{minHeight:"40px",padding:`0 calc(${F.spacingHorizontalM} + ${F.spacingHorizontalSNudge})`}});function mr(e){const{printFieldProps:o=e.fieldProps,printTagProps:r,TagComponent:n=xe}=e,t=ke(),d=$(),{t:c}=U();return g.jsx(ee,{label:c(d.name),...o,children:g.jsx("div",{className:S(t.root,(o==null?void 0:o.size)==="small"&&t.small,(o==null?void 0:o.size)==="large"&&t.large),children:d.state.value.map((u,l)=>g.jsx(n,{row:u,fieldProps:o,tagProps:r},`tag-${l}`))})})}function vr(e){const{readonlyFieldProps:o=e.fieldProps,readonlyTagProps:r,TagComponent:n=xe}=e,t=ke(),d=$(),{form:c}=J(),{t:u}=U();return g.jsx(c.Subscribe,{selector:l=>l.values.Table1[0].FORM_FIELDS_REQUIRED,children:l=>{const y=Z(l).has(d.name);return g.jsx(ee,{required:y,label:u(d.name),...o,children:g.jsx("div",{className:S(t.root,(o==null?void 0:o.size)==="small"&&t.small,(o==null?void 0:o.size)==="large"&&t.large),children:d.state.value.map((x,s)=>g.jsx(n,{row:x,fieldProps:o,tagProps:r},`tag-${s}`))})})}})}function hr(e){const{fieldProps:o,tagPickerProps:r,queryOptions:n,limit:t,TagPickerGroupComponent:d=gr,TagPickerOptionComponent:c=ye}=e,u=ro(),l=$(),{t:z}=U(),{form:y}=J(),x=to({defaultValues:{inputValue:"",selectedOptions:l.state.value.map(k=>k.UserName)}}),{inputValue:s}=x.state.values,[m,i]=p.useState(s);return g.jsx(y.Subscribe,{selector:k=>k.values.Table1[0].FORM_FIELDS_REQUIRED,children:k=>{const b=Z(k).has(l.name);return g.jsx(x.Field,{name:"selectedOptions",children:B=>g.jsx(ee,{required:b,label:z(l.name),validationMessage:l.state.meta.isTouched&&l.state.meta.errors.length>0?z(l.state.meta.errors.join(", "),{field:""}):null,...o,children:g.jsxs(fe,{defaultSelectedOptions:B.state.value,onOptionSelect:(h,j)=>{if(!(j.value.startsWith("selected-")||t!==void 0&&t>1&&j.selectedOptions.length>t)){if(j.selectedOptions.includes(j.value)){const w=u.getQueryData(n(m).queryKey);let N;w==null||w.pages.find(E=>(N=E.Rows.find(a=>a.UserName===j.value),N!==void 0)),t===1?l.handleChange([N]):l.pushValue(N)}else t===1?l.removeValue(0):l.handleChange(l.state.value.filter(w=>w.UserName!==j.value));x.setFieldValue("inputValue",""),i(""),B.handleChange(t===1?j.selectedOptions.length===0?[]:[j.value]:j.selectedOptions)}},...r,children:[g.jsxs(me,{children:[g.jsx(d,{rows:l.state.value}),g.jsx(x.Field,{name:"inputValue",asyncDebounceMs:500,validators:{onChangeAsync:async({value:h})=>{i(h)}},children:h=>g.jsx(pe,{value:h.state.value,onChange:j=>{h.handleChange(j.target.value)}})})]}),g.jsx(pr,{...e,TagPickerOptionComponent:c,rows:l.state.value,query:m,selectedOptions:B.state.value})]})})})}})}const Br=e=>{const o=$(),{form:r,printForm:{state:{values:{open:n}}}}=J(),{isArchive:t}=Ze(),d=eo(r.store,u=>u.values.Table1[0].FORM_FIELDS_READONLY??""),c=Z(d);return n?g.jsx(mr,{...e}):t||c.has(o.name)?g.jsx(vr,{...e}):g.jsx(hr,{...e})};export{Br as default};
//# sourceMappingURL=index-CoJMbih6.js.map
