import{a5 as Be,a6 as re,a7 as Pe,a8 as je,a9 as Se,a as Q,a0 as D,c as G,g as K,N as H,j as I,_ as R,m as S,d as g,U as Te,Q as Ne,b as C,W as O,aa as Oe,ab as Re,ac as qe,ad as Ce,ae as Ie,O as De,u as _e,af as Ae,ag as te,ah as Fe,z as Ee,M as Ve,S as ae,E as Me,ai as He,a3 as L,e as _,x as ce,V as Ge,aj as Le,ak as Ue,al as $e,am as We,D as Xe,i as Qe,B as Ke,o as m,v as Y,p as U,a4 as Ye,an as Je,f as $,h as J,k as Ze,l as eo,n as Z,q as oo,F as ee,ao as ro,ap as to,w as F}from"./index-V1xOnHq0.js";import{A as oe}from"./Avatar-CohuZoIA.js";import{u as ao,a as no,L as ne,b as so}from"./useTriggerSlot-CenOMwqJ.js";import{u as io,r as lo,a as co,b as uo,T as de}from"./useTagGroupContextValues-D0H8HSxT.js";import{u as fo}from"./useInputTriggerSlot-CNJP40TX.js";import"./AvatarContext-BtaBtzxM.js";var po=class extends Be{constructor(e,o){super(e,o)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:re()})}getOptimisticResult(e){return e.behavior=re(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,o){var i,B;const{state:r}=e,n=super.createResult(e,o),{isFetching:t,isRefetching:d,isError:c,isRefetchError:f}=n,l=(B=(i=r.fetchMeta)==null?void 0:i.fetchMore)==null?void 0:B.direction,y=c&&l==="forward",k=t&&l==="forward",w=c&&l==="backward",s=t&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:je(o,r.data),hasPreviousPage:Pe(o,r.data),isFetchNextPageError:y,isFetchingNextPage:k,isFetchPreviousPageError:w,isFetchingPreviousPage:s,isRefetchError:f&&!y&&!w,isRefetching:d&&!k&&!s}}};function go(e,o){return Se(e,po,o)}const mo=(e,o)=>{const r=Q("group-label"),{label:n}=e;return{components:{root:"div",label:"span"},root:G(K("div",{ref:o,role:"group","aria-labelledby":n?r:void 0,...e}),{elementType:"div"}),label:D(n,{defaultProps:{id:r,role:"presentation"},elementType:"span"})}},vo=e=>H(e.root,{children:[e.label&&I(e.label,{children:e.label.children}),e.root.children]}),se={root:"fui-OptionGroup",label:"fui-OptionGroup__label"},ho=R({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Belr9w4:"fiut8dr",B8lkq7l:"f1xxzjds",eii1in:0,H93o2g:0,Gwp8xu:0,Bd39igo:"f16cmn8k",om0q45:"f5642y",Hl9o3s:"ffdf81h",sl1c2c:0,z4hxbw:0,B0i58d9:0,Bi9x0x4:0,Bgurq3m:"f1bsn9kn"},label:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",sj55zd:"f11d4kpn",mc9l5x:"ftgm304",Be2twd7:"fy9rknc",Bhrd7zp:"fl43uef",Bg96gwp:"fwrc4pm",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mpq0zz"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".fiut8dr{row-gap:var(--spacingHorizontalXXS);}",'.f1xxzjds:not(:last-child)::after{content:"";}',[".f16cmn8k:not(:last-child)::after{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStroke2);}",{p:-1}],".f5642y:not(:last-child)::after{display:block;}",".ffdf81h:not(:last-child)::after{padding-bottom:var(--spacingHorizontalXS);}",[".f1bsn9kn:not(:last-child)::after{margin:0 calc(var(--spacingHorizontalXS) * -1) var(--spacingVerticalXS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f11d4kpn{color:var(--colorNeutralForeground3);}",".ftgm304{display:block;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",[".f1mpq0zz{padding:var(--spacingHorizontalS) var(--spacingHorizontalSNudge);}",{p:-1}]]}),bo=e=>{"use no memo";const o=ho();return e.root.className=S(se.root,o.root,e.root.className),e.label&&(e.label.className=S(se.label,o.label,e.label.className)),e},yo=["above","after","after-top","before","before-top"],xo=e=>{const o=Q("picker-listbox"),r=g.useRef(null),n=g.useRef(null),t=g.useRef(null),{positioning:d,size:c="medium",inline:f=!1,noPopover:l=!1}=e,{targetRef:y,containerRef:k}=Te({position:"below",align:"start",offset:{crossAxis:0,mainAxis:2},fallbackPositions:yo,matchTargetSize:"width",...Ne(d)}),{controller:w,activeParentRef:s,listboxRef:p}=ao({matchOption:v=>v.classList.contains(Oe.root)}),i=no({...e,onOptionSelect:C((v,x)=>{var b;return(b=e.onOptionSelect)===null||b===void 0?void 0:b.call(e,v,{selectedOptions:x.selectedOptions,value:x.optionValue,type:v.type,event:v})}),onOpenChange:C((v,x)=>{var b;return(b=e.onOpenChange)===null||b===void 0?void 0:b.call(e,v,{...x,type:v.type,event:v})}),activeDescendantController:w,editable:!0,multiselect:!0,size:"medium"}),{trigger:B,popover:P}=ko(e.children,l);return{activeDescendantController:w,components:{},trigger:B,popover:i.open||i.hasFocus?P:void 0,popoverId:o,noPopover:l,disabled:i.disabled,triggerRef:O(r,s),popoverRef:O(p,k),secondaryActionRef:n,tagPickerGroupRef:t,targetRef:y,size:c,inline:f,open:i.open,mountNode:i.mountNode,onOptionClick:C(v=>{i.onOptionClick(v),i.setOpen(v,!1)}),appearance:i.appearance,clearSelection:i.clearSelection,getOptionById:i.getOptionById,getOptionsMatchingValue:i.getOptionsMatchingValue,registerOption:i.registerOption,selectedOptions:i.selectedOptions,selectOption:i.selectOption,setHasFocus:i.setHasFocus,setOpen:i.setOpen,setValue:i.setValue,value:i.value}},ko=(e,o)=>{const r=g.Children.toArray(e);if(o)return{trigger:r[0]};let n,t;return r.length===2?(n=r[0],t=r[1]):r.length===1&&(t=r[0]),{trigger:n,popover:t}},wo={triggerRef:g.createRef(),popoverRef:g.createRef(),targetRef:g.createRef(),tagPickerGroupRef:g.createRef(),secondaryActionRef:g.createRef(),open:!1,clearSelection:()=>null,getOptionById:()=>{},selectedOptions:[],selectOption:()=>null,setHasFocus:()=>null,setOpen:()=>null,setValue:()=>null,value:void 0,popoverId:"",size:"medium",appearance:"outline",disabled:!1},ue=Re(void 0),zo=ue.Provider,u=e=>qe(ue,(o=wo)=>e(o)),Bo=(e,o)=>g.createElement(zo,{value:o.picker},g.createElement(Ce,{value:o.activeDescendant},g.createElement(Ie,{value:o.listbox},e.trigger,e.inline?e.popover:g.createElement(De,{mountNode:e.mountNode},e.popover))));function Po(e){const{onOptionClick:o,registerOption:r,selectedOptions:n,selectOption:t,value:d,triggerRef:c,secondaryActionRef:f,tagPickerGroupRef:l,targetRef:y,size:k,setValue:w,setOpen:s,setHasFocus:p,popoverRef:i,appearance:B,clearSelection:P,getOptionById:v,getOptionsMatchingValue:x,open:b,popoverId:j,disabled:z,noPopover:N}=e;return{activeDescendant:g.useMemo(()=>({controller:e.activeDescendantController}),[e.activeDescendantController]),listbox:{onOptionClick:o,registerOption:r,getOptionById:v,getOptionsMatchingValue:x,selectedOptions:n,selectOption:t,focusVisible:!1,setActiveOption:jo},picker:{value:d,triggerRef:c,targetRef:y,secondaryActionRef:f,tagPickerGroupRef:l,size:k,setValue:w,setOpen:s,setHasFocus:p,selectOption:t,popoverRef:i,selectedOptions:n,appearance:B,clearSelection:P,getOptionById:v,open:b,popoverId:j,disabled:z,noPopover:N}}}const jo=()=>{},fe=g.memo(e=>{const o=xo(e),r=Po(o);return Bo(o,r)});fe.displayName="TagPicker";const W={width:"--fluent-TagPickerInput__width"},So=(e,o)=>{const r=_e(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0}),{controller:n}=Ae(),t=u(a=>a.size),d=u(a=>a.disabled),c=u(a=>a.tagPickerGroupRef),f=u(a=>a.triggerRef),l=u(a=>a.selectedOptions),y=u(a=>a.setValue),k=u(a=>a.setOpen),w=u(a=>a.setHasFocus),s=u(a=>a.clearSelection),p=u(a=>a.open),i=u(a=>a.noPopover?void 0:a.popoverId),B=u(a=>a.selectOption),P=u(a=>a.getOptionById),v=u(a=>a.value);te(()=>{f.current&&ie(f.current)},[l,f]),te(()=>{if(f.current){const a=f.current,q=()=>ie(a);return a.addEventListener("input",q),()=>{a.removeEventListener("input",q)}}},[f]);const{value:x=v,disabled:b=d}=r,{findLastFocusable:j}=Fe(),z=g.useRef(!1),N=fo({type:"text",value:x??"","aria-controls":p?i:void 0,disabled:b,...K("input",r),onKeyDown:C(a=>{var q;if((q=r.onKeyDown)===null||q===void 0||q.call(r,a),(a.key===Ee||a.key===Ve)&&a.currentTarget.selectionStart===0&&a.currentTarget.selectionEnd===0&&c.current){var A;(A=j(c.current))===null||A===void 0||A.focus()}else a.key===ae?p&&!z.current&&k(a,!1):a.key===Me&&(p?He.unstable_batchedUpdates(()=>{y(void 0),k(a,!1)}):k(a,!0));z.current=a.key.length===1&&a.code!==ae&&!a.altKey&&!a.ctrlKey&&!a.metaKey})},O(f,o),{activeDescendantController:n,freeform:!1,state:{clearSelection:s,getOptionById:P,open:p,selectedOptions:l,selectOption:B,setHasFocus:w,setOpen:k,setValue:y,multiselect:!0,value:r.value}});return{components:{root:"input"},root:N,disabled:b,size:t}},ie=e=>{e.style.removeProperty(W.width),e.scrollWidth>e.offsetWidth+1?e.style.setProperty(W.width,"100%"):e.style.removeProperty(W.width)},To=e=>I(e.root,{}),No={root:"fui-TagPickerInput"},Oo=L("r1hdk6fw",null,[".r1hdk6fw{background-color:var(--colorTransparentBackground);color:var(--colorNeutralForeground1);font-family:var(--fontFamilyBase);box-sizing:border-box;border:none;min-width:24px;max-width:100%;width:var(--fluent-TagPickerInput__width, 0);flex-grow:1;}",".r1hdk6fw:focus{outline-style:none;}",".r1hdk6fw::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r1hdk6fw::after{visibility:hidden;white-space:pre-wrap;}"]),Ro=R({medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fa2pw7h"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"ft37c3"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f3abo53"},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fa2pw7h{padding:var(--spacingVerticalSNudge) 0 var(--spacingVerticalSNudge) 0;}",{p:-1}],[".ft37c3{padding:var(--spacingVerticalMNudge) 0 var(--spacingVerticalMNudge) 0;}",{p:-1}],[".f3abo53{padding:var(--spacingVerticalM) 0 var(--spacingVerticalM) 0;}",{p:-1}],".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),qo=e=>{"use no memo";const o=Oo(),r=Ro();return e.root.className=S(No.root,o,r[e.size],e.disabled&&r.disabled,e.root.className),e},pe=g.forwardRef((e,o)=>{const r=So(e,o);return qo(r),_("useTagPickerInputStyles_unstable")(r),To(r)});pe.displayName="TagPickerInput";const Co=(e,o)=>{const r=u(c=>c.triggerRef),n=u(c=>c.popoverRef),t=u(c=>c.popoverId);return{open:u(c=>c.open),components:{root:ne},root:G({...so(e,O(n,o),{state:{multiselect:!0},triggerRef:r,defaultProps:{id:t}}),role:"listbox"},{elementType:ne})}},Io=e=>I(e.root,{}),Do={root:"fui-TagPickerList"},_o=R({root:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},collapsed:{mc9l5x:"fjseox"}},{d:[".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".f1ewtqcl{box-sizing:border-box;}",".fjseox{display:none;}"]}),Ao=e=>{"use no memo";const o=_o();return e.root.className=S(Do.root,o.root,!e.open&&o.collapsed,e.root.className),e},ge=g.forwardRef((e,o)=>{const r=Co(e,o);return Ao(r),_("useTagPickerListStyles_unstable")(r),Io(r)});ge.displayName="TagPickerList";const Fo=e=>{const{targetDocument:o}=ce(),[r]=g.useState(()=>{var t;const d=o==null||(t=o.defaultView)===null||t===void 0?void 0:t.ResizeObserver;if(d)return new d(e)});return g.useCallback(t=>{t?r==null||r.observe(t):r==null||r.disconnect()},[r])},M={root:"fui-TagPickerControl",expandIcon:"fui-TagPickerControl__expandIcon",secondaryAction:"fui-TagPickerControl__secondaryAction",aside:"fui-TagPickerControl__aside"},Eo="--fui-TagPickerControl-aside-width",Vo=R({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",z189sj:["f1d8q41i","f8lqu5g"],uwmqm3:["f1uw59to","fw5db7e"],Bt984gj:"f122n59",i8kkvl:"f14mj54c",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",Eh141a:"fni485r",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"f145g4dw",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51"},listbox:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},listboxCollapsed:{mc9l5x:"fjseox"},medium:{sshi5w:"f1nxs5xn"},large:{sshi5w:"f1w5jphr"},"extra-large":{sshi5w:"f5pgtk9"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"f1z0osm6",B50zh58:["f4ruux4","f1assf6x"],Bvq3b66:"f1b473iu",Brahy3i:["f381qr8","ft4skwv"],zoxjo1:"f1qzcrsd",an54nd:["ft4skwv","f381qr8"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f9ez7ne",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},"filled-lighter":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},"filled-darker":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]}},{d:[[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1d8q41i{padding-right:calc(var(--spacingHorizontalM) + var(--fui-TagPickerControl-aside-width, 0px));}",".f8lqu5g{padding-left:calc(var(--spacingHorizontalM) + var(--fui-TagPickerControl-aside-width, 0px));}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f122n59{align-items:center;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".fni485r{flex-wrap:wrap;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".f145g4dw::after{height:max(2px, var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".f1nxs5xn{min-height:32px;}",".f1w5jphr{min-height:40px;}",".f5pgtk9{min-height:44px;}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f9ez7ne{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1b473iu:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".f381qr8:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".ft4skwv:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1qzcrsd:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),Mo=R({root:{mc9l5x:"f22iagw",qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",j35jbq:["f8b87gs","fedtrts"],Bqenvij:"f1l02sjl",Bceei9c:"f113hnb5"},medium:{sshi5w:"f1nxs5xn"},large:{sshi5w:"f1w5jphr"},"extra-large":{sshi5w:"f5pgtk9"}},{d:[".f22iagw{display:flex;}",".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f8b87gs{right:var(--spacingHorizontalM);}",".fedtrts{left:var(--spacingHorizontalM);}",".f1l02sjl{height:100%;}",".f113hnb5{cursor:text;}",".f1nxs5xn{min-height:32px;}",".f1w5jphr{min-height:40px;}",".f5pgtk9{min-height:44px;}"]}),Ho=R({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",Bceei9c:"f1k6fduh",mc9l5x:"f22iagw",Brf1p80:"f4d9j23",Bt984gj:"f122n59",qb2dma:"fjgzulp",Be2twd7:"f1pp30po",Bo70h7d:"fvc9v3g"},medium:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"],sshi5w:"f1nxs5xn"},large:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"],sshi5w:"f1w5jphr"},"extra-large":{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"],sshi5w:"f5pgtk9"},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".f1k6fduh{cursor:pointer;}",".f22iagw{display:flex;}",".f4d9j23{justify-content:center;}",".f122n59{align-items:center;}",".fjgzulp{align-self:flex-start;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".fvc9v3g svg{display:block;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".f1nxs5xn{min-height:32px;}",".fe5j1ua{font-size:20px;}",".f1w5jphr{min-height:40px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f5pgtk9{min-height:44px;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}"]}),Go=R({root:{mc9l5x:"f22iagw"}},{d:[".f22iagw{display:flex;}"]}),Lo=e=>{"use no memo";const o=Vo(),r=Ho(),n=Mo(),t=Go();return e.root.className=S(M.root,o.root,o[e.size],o[e.appearance],!e.disabled&&e.appearance==="outline"&&o.outlineInteractive,e.invalid&&e.appearance!=="underline"&&o.invalid,e.invalid&&e.appearance==="underline"&&o.invalidUnderline,e.disabled&&o.disabled,e.root.className),e.aside&&(e.aside.className=S(M.aside,n.root,n[e.size],e.aside.className)),e.expandIcon&&(e.expandIcon.className=S(M.expandIcon,r.icon,r[e.size],e.disabled&&r.disabled,e.expandIcon.className)),e.secondaryAction&&(e.secondaryAction.className=S(M.secondaryAction,t.root,e.secondaryAction.className)),e};function Uo(e){const{tagPickerId:o,state:r}=e,{targetDocument:n}=ce(),t=u(s=>s.triggerRef),d=g.useRef(null),c=!!r.expandIcon,{"aria-label":f,"aria-labelledby":l,id:y}=r.expandIcon||{},k=g.useCallback((s,p)=>{let i,B,P;if(c){const v=f||l,x="Open";v||(p?(i=x,P=y??`${o}-chevron`,B=`${P} ${p}`):s?i=`${x} ${s}`:i=x)}return{expandAriaLabel:i,expandAriaLabelledBy:B,expandId:P}},[f,l,y,c,o]),w=g.useCallback(()=>{var s,p;const i=(s=t.current)===null||s===void 0?void 0:s.getAttribute("aria-label"),B=(p=t.current)===null||p===void 0?void 0:p.getAttribute("aria-labelledby"),{expandAriaLabel:P,expandAriaLabelledBy:v,expandId:x}=k(i,B);if(v){var b;(b=d.current)===null||b===void 0||b.setAttribute("aria-labelledby",v)}if(P){var j;(j=d.current)===null||j===void 0||j.setAttribute("aria-label",P)}if(x){var z;(z=d.current)===null||z===void 0||z.setAttribute("id",x)}},[k,t]);return g.useEffect(()=>{const s=f||l;if(!(n!=null&&n.defaultView)||!t.current||!c||s)return;const p=n.defaultView;w();const i=new p.MutationObserver(w);return i.observe(t.current,{attributes:!0,attributeFilter:["aria-label","aria-labelledby"]}),()=>i.disconnect()},[k,w,f,l,c,o,t,n]),d}const $o=(e,o)=>{var r;const n=u(h=>h.targetRef),t=u(h=>h.triggerRef),d=u(h=>h.tagPickerGroupRef),c=u(h=>h.open),f=u(h=>h.popoverId),l=u(h=>h.setOpen),y=u(h=>h.secondaryActionRef),k=u(h=>h.size),w=u(h=>h.appearance),s=u(h=>h.disabled),p=((r=Ge())===null||r===void 0?void 0:r.validationState)==="error",i=u(h=>{var T;return(T=h.noPopover)!==null&&T!==void 0?T:!1}),B=Q("tagPicker-"),P=g.useRef(null),v=g.useRef(null),x=g.useRef(null),b=D(e.secondaryAction,{elementType:"span"}),j=O(y,b==null?void 0:b.ref);b&&(b.ref=j);const z=D(e.expandIcon,{renderByDefault:!i,defaultProps:{"aria-expanded":c,"aria-disabled":s?"true":void 0,children:g.createElement(Le,null),role:"button"},elementType:"span"}),N=O(z==null?void 0:z.ref,v);z&&(z.ref=N);const E=Fo(([h])=>{var T;(T=P.current)===null||T===void 0||T.style.setProperty(Eo,`${h.contentRect.width}px`)}),a=D(void 0,{elementType:"span",renderByDefault:!!(b||z),defaultProps:{ref:E}}),q=O(x,a==null?void 0:a.ref);a&&(a.ref=q);const A=C(h=>{if(!h.isDefaultPrevented()&&(Ue(v.current,h.target)||h.target===P.current||h.target===d.current||h.target===x.current)){var T;h.preventDefault(),l(h,!c),(T=t.current)===null||T===void 0||T.focus()}}),V={components:{root:"div",expandIcon:"span",secondaryAction:"span",aside:"span"},root:G(K("div",{ref:O(o,n,P),"aria-owns":c&&!i?f:void 0,...e,onMouseDown:A}),{elementType:"div"}),aside:a,expandIcon:z,secondaryAction:b,size:k,appearance:w,disabled:s,invalid:p},we=Uo({tagPickerId:B,state:V}),ze=O(z==null?void 0:z.ref,we);return V.expandIcon&&(V.expandIcon.ref=ze),V},Wo=e=>H(e.root,{children:[e.root.children,e.aside&&H(e.aside,{children:[e.secondaryAction&&I(e.secondaryAction,{}),e.expandIcon&&I(e.expandIcon,{})]})]}),me=g.forwardRef((e,o)=>{const r=$o(e,o);return Lo(r),_("useTagPickerControlStyles_unstable")(r),Wo(r)});me.displayName="TagPickerControl";const Xo=(e,o)=>{const r=$e(e,o);return{components:{...r.components,media:"div",secondaryContent:"span"},media:D(e.media,{elementType:"div"}),secondaryContent:D(e.secondaryContent,{elementType:"span"}),root:G({...r.root,role:"option","aria-checked":e["aria-checked"]},{elementType:"div"})}},Qo=e=>H(e.root,{children:[e.media&&I(e.media,{}),e.root.children,e.secondaryContent&&I(e.secondaryContent,{})]}),X={root:"fui-TagPickerOption",media:"fui-TagPickerOption__media",secondaryContent:"fui-TagPickerOption__secondaryContent"},Ko=L("r70qvj9",null,[".r70qvj9{display:flex;align-items:center;}"]),Yo=R({secondaryContent:{mc9l5x:"f13qh94s",Budl1dq:"fjxzuw"}},{d:[".f13qh94s{display:grid;}",".fjxzuw{grid-template-columns:auto 1fr;}"]}),Jo=L("r131qrbm",null,[".r131qrbm{grid-column-start:2;grid-row-start:2;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),Zo=L("rrip69g",null,[".rrip69g{grid-row-start:span 2;}"]),er=e=>{"use no memo";const o=Ko(),r=Yo(),n=Jo(),t=Zo();return e.root.className=S(X.root,o,e.secondaryContent&&r.secondaryContent,e.root.className),We({...e,active:!1,disabled:!1,focusVisible:!1,checkIcon:void 0,selected:!1}),e.media&&(e.media.className=S(X.media,t,e.media.className)),e.secondaryContent&&(e.secondaryContent.className=S(X.secondaryContent,n,e.secondaryContent.className)),e},ve=g.forwardRef((e,o)=>{const r=Xo(e,o);return er(r),_("useTagPickerOptionStyles_unstable")(r),Qo(r)});ve.displayName="TagPickerOption";function or(e){switch(e){case"medium":return"extra-small";case"large":return"small";case"extra-large":return"medium";default:return"extra-small"}}function rr(e){switch(e){case"extra-small":return"medium";case"small":return"large";case"medium":return"extra-large";default:return"medium"}}function tr(e){switch(e){case"filled-darker":return"outline";default:return"filled"}}const ar=(e,o)=>{const r=u(s=>s.selectedOptions.length>0),n=u(s=>s.selectedOptions.length===1),t=u(s=>s.triggerRef),d=u(s=>s.tagPickerGroupRef),c=u(s=>s.selectOption),f=u(s=>or(s.size)),l=u(s=>s.appearance),y=u(s=>s.disabled),k=Xe({circular:!1,axis:"both",memorizeCurrent:!0});return{...io({role:"listbox",disabled:y,...e,...k,size:f,appearance:tr(l),dismissible:!0,onKeyDown:C(s=>{var p;if((p=e.onKeyDown)===null||p===void 0||p.call(e,s),Qe(s.target)&&s.key===Ke){var i;(i=t.current)===null||i===void 0||i.focus()}}),onDismiss:C((s,p)=>{if(c(s,{value:p.value,id:"ERROR_DO_NOT_USE",text:"ERROR_DO_NOT_USE"}),n&&!s.isDefaultPrevented()){var i;(i=t.current)===null||i===void 0||i.focus()}})},O(o,d)),hasSelectedOptions:r}};function nr(e,o){return e.hasSelectedOptions?lo(e,o):null}const sr={root:"fui-TagPickerGroup"},ir=R({root:{Eh141a:"fni485r",B7ck84d:"f1ewtqcl",Bceei9c:"f113hnb5"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fa2pw7h",i8kkvl:0,Belr9w4:0,rmohyg:"fkln5zr"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fc0zr7g",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},"extra-large":{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fc0zr7g",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"}},{d:[".fni485r{flex-wrap:wrap;}",".f1ewtqcl{box-sizing:border-box;}",".f113hnb5{cursor:text;}",[".fa2pw7h{padding:var(--spacingVerticalSNudge) 0 var(--spacingVerticalSNudge) 0;}",{p:-1}],[".fkln5zr{gap:var(--spacingHorizontalXS);}",{p:-1}],[".fc0zr7g{padding:var(--spacingVerticalS) 0 var(--spacingVerticalS) 0;}",{p:-1}],[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],[".fc0zr7g{padding:var(--spacingVerticalS) 0 var(--spacingVerticalS) 0;}",{p:-1}],[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}]]}),lr=e=>{"use no memo";co(e);const o=ir();return e.root.className=S(sr.root,o[rr(e.size)],o.root,e.root.className),e},he=g.forwardRef((e,o)=>{const r=ar(e,o);return lr(r),_("useTagPickerGroupStyles_unstable")(r),nr(r,uo(r))});he.displayName="TagPickerGroup";const cr=mo,dr=vo,le={root:"fui-TagPickerOptionGroup",label:"fui-TagPickerOptionGroup__label"},ur=e=>{"use no memo";return bo(e),e.root.className=S(le.root,e.root.className),e.label&&(e.label.className=S(le.label,e.label.className)),e},be=g.forwardRef((e,o)=>{const r=cr(e,o);return ur(r),_("useTagPickerOptionGroupStyles_unstable")(r),dr(r)});be.displayName="TagPickerOptionGroup";const ye=({row:e,rows:o})=>{const{CommonName:r,JobTitle:n,Directory:t,UserName:d}=e,c=o.find(f=>f.UserName===d);return m.jsx(ve,{secondaryContent:n,media:m.jsx(oe,{shape:"square","aria-hidden":!0,name:r,color:Y.get(t),active:c?"active":"unset"}),value:c?`selected-${d}`:d,children:r})};function fr(e,o){return o===""?e:e.filter(r=>{const{CommonName:n}=r;return n.toLowerCase().includes(o.toLowerCase())})}const pr=e=>{const{rows:o,pageSize:r=40,localQuery:n=!1,queryOptions:t,query:d,TagPickerOptionComponent:c=ye,filterRows:f=fr}=e,{t:l}=U(),{data:y,isLoading:k,hasNextPage:w,fetchNextPage:s,isFetchingNextPage:p}=go(t(n?"":d,r)),i=(y==null?void 0:y.pages[0].Total)??0,B=(y==null?void 0:y.pages.flatMap(v=>v.Rows))??[],P=f(B,d);return m.jsx(ge,{style:{maxHeight:480},children:m.jsxs(be,{label:k?l("Loading..."):P.length?l("Showing {{count, number}} of {{total, number}}",{count:P.length,total:i}):l("We couldn't find any matches"),children:[P.map((v,x)=>m.jsx(c,{row:v,rows:o},`tagPickerOption-${x}`)),w?m.jsx("div",{children:m.jsx(Ye,{disabled:p,icon:p?m.jsx(Je,{size:"extra-tiny"}):void 0,onClick:()=>{s()},children:l(p?"Loading...":"Load more")})}):null]})})},xe=e=>{const{row:o,fieldProps:r,tagProps:n}=e,t=o;return m.jsx(de,{size:(r==null?void 0:r.size)==="large"?"medium":(r==null?void 0:r.size)==="small"?"extra-small":"small",media:m.jsx(oe,{"aria-hidden":!0,name:t.CommonName,color:Y.get(t.Directory)}),...n,children:t.CommonName})},gr=({rows:e})=>m.jsx(he,{"aria-label":"Selected Employees",children:e.map((o,r)=>{const{CommonName:n,UserName:t,Directory:d}=o;return m.jsx(de,{media:m.jsx(oe,{"aria-hidden":!0,name:n,color:Y.get(d)}),value:t,children:n},`tag-${r}`)})}),ke=oo({root:{minHeight:"32px",display:"inline-flex",alignItems:"center",gap:F.spacingHorizontalXS,padding:`0 ${F.spacingHorizontalM}`},small:{minHeight:"24px",padding:`0 ${F.spacingHorizontalS}`},large:{minHeight:"40px",padding:`0 calc(${F.spacingHorizontalM} + ${F.spacingHorizontalSNudge})`}});function mr(e){const{printFieldProps:o=e.fieldProps,printTagProps:r,TagComponent:n=xe}=e,t=ke(),d=$(),{t:c}=U();return m.jsx(ee,{label:c(d.name),...o,children:m.jsx("div",{className:S(t.root,(o==null?void 0:o.size)==="small"&&t.small,(o==null?void 0:o.size)==="large"&&t.large),children:d.state.value.map((f,l)=>m.jsx(n,{row:f,fieldProps:o,tagProps:r},`tag-${l}`))})})}function vr(e){const{readonlyFieldProps:o=e.fieldProps,readonlyTagProps:r,TagComponent:n=xe}=e,t=ke(),d=$(),{form:c}=J(),{t:f}=U();return m.jsx(c.Subscribe,{selector:l=>l.values.Table1[0].FORM_FIELDS_REQUIRED,children:l=>{const k=Z(l).has(d.name);return m.jsx(ee,{required:k,label:f(d.name),...o,children:m.jsx("div",{className:S(t.root,(o==null?void 0:o.size)==="small"&&t.small,(o==null?void 0:o.size)==="large"&&t.large),children:d.state.value.map((w,s)=>m.jsx(n,{row:w,fieldProps:o,tagProps:r},`tag-${s}`))})})}})}function hr(e){const{fieldProps:o,tagPickerProps:r,queryOptions:n,limit:t,TagPickerGroupComponent:d=gr,TagPickerOptionComponent:c=ye}=e,f=ro(),l=$(),{t:y}=U(),{form:k}=J(),w=to({defaultValues:{inputValue:"",selectedOptions:l.state.value.map(B=>B.UserName)}}),{inputValue:s}=w.state.values,[p,i]=g.useState(s);return m.jsx(k.Subscribe,{selector:B=>B.values.Table1[0].FORM_FIELDS_REQUIRED,children:B=>{const v=Z(B).has(l.name);return m.jsx(w.Field,{name:"selectedOptions",children:x=>m.jsx(ee,{required:v,label:y(l.name),validationMessage:l.state.meta.isTouched&&l.state.meta.errors.length>0?y(l.state.meta.errors.join(", "),{field:""}):null,...o,children:m.jsxs(fe,{defaultSelectedOptions:x.state.value,onOptionSelect:(b,j)=>{if(!(j.value.startsWith("selected-")||t!==void 0&&t>1&&j.selectedOptions.length>t)){if(j.selectedOptions.includes(j.value)){const z=f.getQueryData(n(p).queryKey);let N;z==null||z.pages.find(E=>(N=E.Rows.find(a=>a.UserName===j.value),N!==void 0)),t===1?l.setValue([N]):l.pushValue(N)}else t===1?l.removeValue(0):l.setValue(l.state.value.filter(z=>z.UserName!==j.value));w.setFieldValue("inputValue",""),i(""),x.handleChange(t===1?j.selectedOptions.length===0?[]:[j.value]:j.selectedOptions)}},...r,children:[m.jsxs(me,{children:[m.jsx(d,{rows:l.state.value}),m.jsx(w.Field,{name:"inputValue",asyncDebounceMs:500,validators:{onChangeAsync:async({value:b})=>{i(b)}},children:b=>m.jsx(pe,{value:b.state.value,onChange:j=>{b.handleChange(j.target.value)}})})]}),m.jsx(pr,{...e,TagPickerOptionComponent:c,rows:l.state.value,query:p,selectedOptions:x.state.value})]})})})}})}const Br=e=>{const o=$(),{form:r,printForm:{state:{values:{open:n}}}}=J(),{isArchive:t}=Ze(),d=eo(r.store,f=>f.values.Table1[0].FORM_FIELDS_READONLY??""),c=Z(d);return n?m.jsx(mr,{...e}):t||c.has(o.name)?m.jsx(vr,{...e}):m.jsx(hr,{...e})};export{Br as default};
//# sourceMappingURL=index-j0pmAMbI.js.map
