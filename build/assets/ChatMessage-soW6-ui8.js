import{aT as k,aU as A,aV as D,aW as f,aX as p,aY as W,aZ as $,a_ as s,w as n,D as z,c as y,g as G,a$ as H,d as r,b0 as x,b1 as O,q as b,m as l,b2 as U,b3 as V,b4 as K,b5 as X,ah as j,b6 as N,W as q,ar as Y,a0 as m}from"./index-CVsynKIo.js";const Z=e=>(k(A),D({groupper:{tabbability:J(e==null?void 0:e.tabBehavior)},focusable:{ignoreKeydown:e==null?void 0:e.ignoreDefaultKeydown}})),J=e=>{switch(e){case"unlimited":return f.Unlimited;case"limited":return f.Limited;case"limited-trap-focus":return f.LimitedTrapFocus;default:return}};function Q(e,{selector:a=p.selector,customizeSelector:o=p.customizeSelector}=p){return{[o(ee(a))]:e}}function ee(e){switch(e){case"focus":return`&[${$}]`;case"focus-within":return`&[${W}]:focus-within`}}function h({outlineWidth:e,outlineOffset:a},o){const t=(a==null?void 0:a[o])||a;return a?`calc(0px - ${e} - ${t})`:`calc(${e} * -1)`}const ae=e=>{const{outlineRadius:a,outlineColor:o,outlineWidth:t}=e;return{...s.borderColor("transparent"),"@media (forced-colors: active)":{"::after":{...s.borderColor("Highlight")}},"::after":{content:'""',position:"absolute",pointerEvents:"none",zIndex:1,border:`${t} solid ${o}`,borderRadius:a,top:h(e,"top"),right:h(e,"right"),bottom:h(e,"bottom"),left:h(e,"left")}}},oe=({enableOutline:e=!1,selector:a=p.selector,customizeSelector:o,style:t=p.style}=p)=>({":focus":{outlineStyle:e?void 0:"none"},":focus-visible":{outlineStyle:e?void 0:"none"},...Q(ae({outlineColor:n.colorStrokeFocus2,outlineRadius:n.borderRadiusMedium,outlineWidth:"2px",...t}),{selector:a,customizeSelector:o})}),te=()=>z({axis:"vertical",memorizeCurrent:!0,unstable_hasDefault:!0}),ne=(e,a)=>{const o=te();return{components:{root:"div"},root:y(G("div",{ref:a,...o,...e}),{elementType:"div"})}};function I(e,a){const{elementType:o,renderFunction:t,props:u}=H(e);return t?(a.length>0&&(u.children=r.createElement(r.Fragment,{},...a)),r.createElement(r.Fragment,{},t(o,u))):r.createElement(o,u,...a)}function i(e,a,...o){return x(a)?I(O(e,a),o):x(e)?I(e,o):r.createElement(e,a,...o)}const re=e=>i(e.root,null),ie={root:"fui-Chat"},se=b({base:{display:"flex",flexDirection:"column",listStyleType:"none",width:"100%",...s.overflow("hidden")},comfy:{paddingLeft:"16px",maxWidth:"1056px",...s.margin("auto")}}),le=e=>{const a=se();return e.root.className=l(ie.root,a.base,a.comfy,e.root.className),e},ce=r.forwardRef((e,a)=>{const o=ne(e,a);return le(o),re(o)});ce.displayName="Chat";const de=e=>{switch(e){case"important":return r.createElement(X,null);case"urgent":return r.createElement(K,null);case"mention":return r.createElement(V,null);case"mentionEveryone":return r.createElement(U,null);default:return null}},S=e=>{const a=r.useRef(()=>{throw new Error("Cannot call an event handler while rendering")});return j(()=>{a.current=e},[e]),r.useCallback((...o)=>{const t=a.current;return t(...o)},[a])};function L(e,a){return(...o)=>{e==null||e(...o),a==null||a(...o)}}const ue=e=>{const a=N(c=>c.setOpen),o=N(c=>c.triggerRef),t=c=>{a(c,!0)},u=c=>{a(c,!1)};e.body.onMouseEnter=S(L(e.body.onMouseEnter,t)),e.body.onMouseLeave=S(L(e.body.onMouseLeave,u)),e.body.ref=q(e.body.ref,o)},me=(e,a)=>{const{attached:o,author:t,avatar:u,body:c,decoration:g,decorationIcon:M,decorationLabel:T,details:_,persistentTimestamp:w,reactions:F,root:R,showAnimation:E,timestamp:B}=e,v=Y({primarySlotTagName:"div",props:e,excludedPropNames:["tabIndex"]}),P=Z({tabBehavior:"limited-trap-focus"}),C={attached:o,decoration:g,persistentTimestamp:w,showAnimation:E,body:y(c,{defaultProps:{ref:a,...P,...v.primary,tabIndex:0},elementType:"div"}),root:y(R,{defaultProps:v.root,elementType:"div"}),author:m(t,{elementType:"div"}),avatar:o&&o!=="top"?void 0:m(u,{elementType:"div"}),decorationIcon:m(M,{elementType:"div",defaultProps:{children:de(g)},renderByDefault:!!g}),decorationLabel:m(T,{elementType:"div"}),details:m(_,{elementType:"div"}),reactions:m(F,{elementType:"div"}),timestamp:m(B,{elementType:"span"}),components:{author:"div",avatar:"div",body:"div",decorationIcon:"div",decorationLabel:"div",details:"div",reactions:"div",root:"div",timestamp:"span"}};return ue(C),C},pe=e=>i(e.root,null,e.avatar&&i(e.avatar,null),i(e.body,null,i("div",{className:e.nameLineClassName},e.author&&i(e.author,null),e.timestamp&&i(e.timestamp,null),e.details&&i(e.details,null)),e.decorationLabel&&i(e.decorationLabel,null),e.body.children,e.decorationIcon&&i(e.decorationIcon,null),e.reactions&&i(e.reactions,null))),he={position:"relative",...oe(),fontFamily:n.fontFamilyBase,fontWeight:n.fontWeightRegular,fontSize:n.fontSizeBase300,lineHeight:n.lineHeightBase300,color:n.colorNeutralForeground1,wordBreak:"break-word"},be={clip:"rect(0px, 0px, 0px, 0px)",height:"1px",...s.margin("-1px"),...s.overflow("hidden"),...s.padding("0px"),width:"1px",position:"absolute"},ge={position:"relative",height:"0px",display:"flex"},fe={animationIterationCount:"1",animationDuration:"4s",animationTimingFunction:"ease-out",animationName:{from:{backgroundColor:n.colorPaletteMarigoldBackground1,boxShadow:`inset 0 0 0 0.1rem ${n.colorPaletteDarkOrangeBorderActive}`},to:{boxShadow:"inset 0 0 0 0.1rem transparent"}}},ye=b({default:{color:n.colorPaletteRedForeground3},mention:{color:n.colorPaletteDarkOrangeForeground3},mentionContrast:{color:n.colorBrandForegroundLink}}),d={root:"fui-ChatMessage",author:"fui-ChatMessage__author",avatar:"fui-ChatMessage__avatar",body:"fui-ChatMessage__body",decorationIcon:"fui-ChatMessage__decorationIcon",decorationLabel:"fui-ChatMessage__decorationLabel",details:"fui-ChatMessage__details",reactions:"fui-ChatMessage__reactions",timestamp:"fui-ChatMessage__timestamp"},ve=b({container:{display:"flex",columnGap:"8px",paddingTop:"16px"},attachedContainer:{paddingTop:"2px"},avatarLessContainer:{marginLeft:"40px"},avatar:{minWidth:"32px"}}),Ce=b({base:{...he,...s.borderRadius("4px"),...s.padding("8px","16px","16px","16px"),maxWidth:"calc(100% - 100px)",backgroundColor:n.colorNeutralBackground3},hasReactions:{marginBottom:"12px"},hasDecorationIcon:{...s.borderLeft("3px","solid",n.colorPaletteRedForeground3)},nameLineWrapper:{display:"flex",columnGap:"12px",fontSize:"12px",lineHeight:"16px",color:n.colorNeutralForeground3,alignItems:"center"},details:{display:"flex",columnGap:"6px",alignItems:"center"},decorationLabel:{fontWeight:700,fontSize:"12px",lineHeight:"16px",textTransform:"uppercase"},reactions:{...ge,paddingRight:"20px"},decorationIcon:{color:"white",backgroundColor:n.colorPaletteRedForeground3,height:"24px",width:"24px",...s.borderRadius("50%"),display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",transform:"translateX(50%)",position:"absolute",top:"4px",right:"0px"},screenReaderContainer:be,animation:fe}),xe=e=>{const a=ve();e.root.className=l(d.root,a.container,e.attached&&e.attached!=="top"&&a.attachedContainer,!e.avatar&&a.avatarLessContainer,e.root.className),e.avatar&&(e.avatar.className=l(d.avatar,a.avatar,e.avatar.className));const o=Ce();e.body&&(e.body.className=l(d.body,o.base,e.reactions&&o.hasReactions,e.decorationIcon&&o.hasDecorationIcon,e.showAnimation&&o.animation,e.body.className)),e.author&&(e.author.className=l(d.author,e.attached&&e.attached!=="top"&&o.screenReaderContainer,e.author.className)),e.timestamp&&(e.timestamp.className=l(d.timestamp,e.attached&&e.attached!=="top"&&o.screenReaderContainer,e.timestamp.className)),e.details&&(e.details.className=l(d.details,o.details,e.details.className));const t=ye();return e.decorationLabel&&(e.decorationLabel.className=l(d.decorationLabel,o.decorationLabel,e.decoration&&t.default,e.decoration==="mention"&&t.mention,e.decorationLabel.className)),e.decorationIcon&&(e.decorationIcon.className=l(d.decorationIcon,o.decorationIcon,e.decorationIcon.className)),e.reactions&&(e.reactions.className=l(d.reactions,o.reactions,e.reactions.className)),e.nameLineClassName=o.nameLineWrapper,e},Ne=r.forwardRef((e,a)=>{const o=me(e,a);return xe(o),pe(o)});Ne.displayName="ChatMessage";export{Ne as C,ce as a};
//# sourceMappingURL=ChatMessage-soW6-ui8.js.map
