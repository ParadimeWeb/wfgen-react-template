import{aW as p,aX as B,aY as k,aZ as i,w as n,D as W,c as b,g as A,a_ as D,d as r,a$ as v,b0 as $,q as g,m as l,b1 as z,b2 as H,b3 as O,b4 as G,ag as U,b5 as x,W as q,aq as V,a0 as m}from"./index-BTakXTv0.js";import{u as X}from"./useFocusableGroup-P9Zk3Mvr.js";function j(e,{selector:o=p.selector,customizeSelector:a=p.customizeSelector}=p){return{[a(Y(o))]:e}}function Y(e){switch(e){case"focus":return`&[${k}]`;case"focus-within":return`&[${B}]:focus-within`}}function h({outlineWidth:e,outlineOffset:o},a){const t=(o==null?void 0:o[a])||o;return o?`calc(0px - ${e} - ${t})`:`calc(${e} * -1)`}const Z=e=>{const{outlineRadius:o,outlineColor:a,outlineWidth:t}=e;return{...i.borderColor("transparent"),"@media (forced-colors: active)":{"::after":{...i.borderColor("Highlight")}},"::after":{content:'""',position:"absolute",pointerEvents:"none",zIndex:1,border:`${t} solid ${a}`,borderRadius:o,top:h(e,"top"),right:h(e,"right"),bottom:h(e,"bottom"),left:h(e,"left")}}},J=({enableOutline:e=!1,selector:o=p.selector,customizeSelector:a,style:t=p.style}=p)=>({":focus":{outlineStyle:e?void 0:"none"},":focus-visible":{outlineStyle:e?void 0:"none"},...j(Z({outlineColor:n.colorStrokeFocus2,outlineRadius:n.borderRadiusMedium,outlineWidth:"2px",...t}),{selector:o,customizeSelector:a})}),K=()=>W({axis:"vertical",memorizeCurrent:!0,unstable_hasDefault:!0}),Q=(e,o)=>{const a=K();return{components:{root:"div"},root:b(A("div",{ref:o,...a,...e}),{elementType:"div"})}};function N(e,o){const{elementType:a,renderFunction:t,props:u}=D(e);return t?(o.length>0&&(u.children=r.createElement(r.Fragment,{},...o)),r.createElement(r.Fragment,{},t(a,u))):r.createElement(a,u,...o)}function s(e,o,...a){return v(o)?N($(e,o),a):v(e)?N(e,a):r.createElement(e,o,...a)}const ee=e=>s(e.root,null),oe={root:"fui-Chat"},ae=g({base:{display:"flex",flexDirection:"column",listStyleType:"none",width:"100%",...i.overflow("hidden")},comfy:{paddingLeft:"16px",maxWidth:"1056px",...i.margin("auto")}}),te=e=>{const o=ae();return e.root.className=l(oe.root,o.base,o.comfy,e.root.className),e},ne=r.forwardRef((e,o)=>{const a=Q(e,o);return te(a),ee(a)});ne.displayName="Chat";const re=e=>{switch(e){case"important":return r.createElement(G,null);case"urgent":return r.createElement(O,null);case"mention":return r.createElement(H,null);case"mentionEveryone":return r.createElement(z,null);default:return null}},I=e=>{const o=r.useRef(()=>{throw new Error("Cannot call an event handler while rendering")});return U(()=>{o.current=e},[e]),r.useCallback((...a)=>{const t=o.current;return t(...a)},[o])};function S(e,o){return(...a)=>{e==null||e(...a),o==null||o(...a)}}const se=e=>{const o=x(c=>c.setOpen),a=x(c=>c.triggerRef),t=c=>{o(c,!0)},u=c=>{o(c,!1)};e.body.onMouseEnter=I(S(e.body.onMouseEnter,t)),e.body.onMouseLeave=I(S(e.body.onMouseLeave,u)),e.body.ref=q(e.body.ref,a)},ie=(e,o)=>{const{attached:a,author:t,avatar:u,body:c,decoration:f,decorationIcon:M,decorationLabel:_,details:L,persistentTimestamp:R,reactions:F,root:w,showAnimation:T,timestamp:E}=e,y=V({primarySlotTagName:"div",props:e,excludedPropNames:["tabIndex"]}),P=X({tabBehavior:"limited-trap-focus"}),C={attached:a,decoration:f,persistentTimestamp:R,showAnimation:T,body:b(c,{defaultProps:{ref:o,...P,...y.primary,tabIndex:0},elementType:"div"}),root:b(w,{defaultProps:y.root,elementType:"div"}),author:m(t,{elementType:"div"}),avatar:a&&a!=="top"?void 0:m(u,{elementType:"div"}),decorationIcon:m(M,{elementType:"div",defaultProps:{children:re(f)},renderByDefault:!!f}),decorationLabel:m(_,{elementType:"div"}),details:m(L,{elementType:"div"}),reactions:m(F,{elementType:"div"}),timestamp:m(E,{elementType:"span"}),components:{author:"div",avatar:"div",body:"div",decorationIcon:"div",decorationLabel:"div",details:"div",reactions:"div",root:"div",timestamp:"span"}};return se(C),C},le=e=>s(e.root,null,e.avatar&&s(e.avatar,null),s(e.body,null,s("div",{className:e.nameLineClassName},e.author&&s(e.author,null),e.timestamp&&s(e.timestamp,null),e.details&&s(e.details,null)),e.decorationLabel&&s(e.decorationLabel,null),e.body.children,e.decorationIcon&&s(e.decorationIcon,null),e.reactions&&s(e.reactions,null))),ce={position:"relative",...J(),fontFamily:n.fontFamilyBase,fontWeight:n.fontWeightRegular,fontSize:n.fontSizeBase300,lineHeight:n.lineHeightBase300,color:n.colorNeutralForeground1,wordBreak:"break-word"},de={clip:"rect(0px, 0px, 0px, 0px)",height:"1px",...i.margin("-1px"),...i.overflow("hidden"),...i.padding("0px"),width:"1px",position:"absolute"},ue={position:"relative",height:"0px",display:"flex"},me={animationIterationCount:"1",animationDuration:"4s",animationTimingFunction:"ease-out",animationName:{from:{backgroundColor:n.colorPaletteMarigoldBackground1,boxShadow:`inset 0 0 0 0.1rem ${n.colorPaletteDarkOrangeBorderActive}`},to:{boxShadow:"inset 0 0 0 0.1rem transparent"}}},pe=g({default:{color:n.colorPaletteRedForeground3},mention:{color:n.colorPaletteDarkOrangeForeground3},mentionContrast:{color:n.colorBrandForegroundLink}}),d={root:"fui-ChatMessage",author:"fui-ChatMessage__author",avatar:"fui-ChatMessage__avatar",body:"fui-ChatMessage__body",decorationIcon:"fui-ChatMessage__decorationIcon",decorationLabel:"fui-ChatMessage__decorationLabel",details:"fui-ChatMessage__details",reactions:"fui-ChatMessage__reactions",timestamp:"fui-ChatMessage__timestamp"},he=g({container:{display:"flex",columnGap:"8px",paddingTop:"16px"},attachedContainer:{paddingTop:"2px"},avatarLessContainer:{marginLeft:"40px"},avatar:{minWidth:"32px"}}),ge=g({base:{...ce,...i.borderRadius("4px"),...i.padding("8px","16px","16px","16px"),maxWidth:"calc(100% - 100px)",backgroundColor:n.colorNeutralBackground3},hasReactions:{marginBottom:"12px"},hasDecorationIcon:{...i.borderLeft("3px","solid",n.colorPaletteRedForeground3)},nameLineWrapper:{display:"flex",columnGap:"12px",fontSize:"12px",lineHeight:"16px",color:n.colorNeutralForeground3,alignItems:"center"},details:{display:"flex",columnGap:"6px",alignItems:"center"},decorationLabel:{fontWeight:700,fontSize:"12px",lineHeight:"16px",textTransform:"uppercase"},reactions:{...ue,paddingRight:"20px"},decorationIcon:{color:"white",backgroundColor:n.colorPaletteRedForeground3,height:"24px",width:"24px",...i.borderRadius("50%"),display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",transform:"translateX(50%)",position:"absolute",top:"4px",right:"0px"},screenReaderContainer:de,animation:me}),fe=e=>{const o=he();e.root.className=l(d.root,o.container,e.attached&&e.attached!=="top"&&o.attachedContainer,!e.avatar&&o.avatarLessContainer,e.root.className),e.avatar&&(e.avatar.className=l(d.avatar,o.avatar,e.avatar.className));const a=ge();e.body&&(e.body.className=l(d.body,a.base,e.reactions&&a.hasReactions,e.decorationIcon&&a.hasDecorationIcon,e.showAnimation&&a.animation,e.body.className)),e.author&&(e.author.className=l(d.author,e.attached&&e.attached!=="top"&&a.screenReaderContainer,e.author.className)),e.timestamp&&(e.timestamp.className=l(d.timestamp,e.attached&&e.attached!=="top"&&a.screenReaderContainer,e.timestamp.className)),e.details&&(e.details.className=l(d.details,a.details,e.details.className));const t=pe();return e.decorationLabel&&(e.decorationLabel.className=l(d.decorationLabel,a.decorationLabel,e.decoration&&t.default,e.decoration==="mention"&&t.mention,e.decorationLabel.className)),e.decorationIcon&&(e.decorationIcon.className=l(d.decorationIcon,a.decorationIcon,e.decorationIcon.className)),e.reactions&&(e.reactions.className=l(d.reactions,a.reactions,e.reactions.className)),e.nameLineClassName=a.nameLineWrapper,e},be=r.forwardRef((e,o)=>{const a=ie(e,o);return fe(a),le(a)});be.displayName="ChatMessage";export{be as C,ne as a};
//# sourceMappingURL=ChatMessage-CbAE4Z5F.js.map
